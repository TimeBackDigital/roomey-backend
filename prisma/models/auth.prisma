model user_table {
  id                         String               @id
  user_name                  String        
  user_email                 String           
  user_email_verified        Boolean      
  user_image                 String?        
  user_created_at            DateTime          @db.Timestamptz(3)
  user_updated_at            DateTime          @db.Timestamptz(3)
  user_phone_number          String?
  user_phone_number_verified Boolean           @default(false)
  user_ban_expires           DateTime?         @db.Timestamptz(3)
  user_role                  String
  user_is_active             Boolean            @default(false)
  user_stripe_customer_id    String?         
  twoFactorEnabled           Boolean?
  user_is_onboarded          Boolean?
  user_last_login_at         DateTime?         @db.Timestamptz(3)
  user_account_tables        user_account_table[]
  user_profile_table         user_profile_table?

  @@unique([user_email])
  @@map("user_table")
  @@schema("auth_schema")
}

model user_account_table {
  id                                   String     @id
  user_account_account_id              String     
  user_account_provider_id             String     
  user_account_user_id                 String     
  user_table                           user_table @relation(fields: [user_account_user_id], references: [id], onDelete: Cascade)
  user_account_access_token            String?    
  user_account_refresh_token           String?  
  user_account_id_token                String?    
  user_account_access_token_expires_at DateTime?  @db.Timestamptz(3)
  user_account_scope                   String?  
  user_account_password                String?    
  user_account_created_at              DateTime   @db.Timestamptz(3)
  user_account_updated_at              DateTime   @db.Timestamptz(3)

  @@map("user_account_table")
  @@schema("auth_schema")
}

model user_profile_table {
  user_profile_id                     String @id  @db.Uuid @default(uuid())
  user_profile_allow_marketing        Boolean
  user_profile_allow_verification     Boolean
  user_profile_user_id                String

  user_profile_created_at             DateTime @default(now()) @db.Timestamptz(3)
  user_profile_updated_at             DateTime? @db.Timestamptz(3)

  user_table  user_table @relation(fields: [user_profile_user_id], references: [id], onDelete: Cascade)

  @@unique([user_profile_user_id])
  @@map("user_profile_table")
  @@schema("auth_schema")
}

model verification_table {
  id                      String    @id
  verification_identifier String
  verification_value      String 
  verification_expires_at DateTime  @db.Timestamptz(3)
  verification_created_at DateTime? @db.Timestamptz(3)
  verification_updated_at DateTime? @db.Timestamptz(3)

  @@map("verification_table")
  @@schema("auth_schema")
}
